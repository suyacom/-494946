<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì±… ì´ë¦„ : ë¹„ë°€ìš”ì› ë ˆë„ˆë“œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body { font-family: sans-serif; padding: 20px; text-align: center; }
    h1 { font-size: 24px; }
    .status { margin: 20px 0; font-size: 20px; }
    button {
      padding: 14px 28px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
    }
    button.return { background-color: #dc3545; }
    .note { font-size: 14px; color: #777; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>ğŸ“– ë¹„ë°€ìš”ì› ë ˆë„ˆë“œ</h1>
  <div class="status" id="status-text">ìƒíƒœ í™•ì¸ ì¤‘...</div>
  <button id="borrow-button">ğŸ“¥ ëŒ€ì¶œí•˜ê¸°</button>
  <button id="return-button" class="return" style="display:none;">ğŸ“¤ ë°˜ë‚©í•˜ê¸°</button>
  <div class="note" id="note-text"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const isCheckMode = params.get("mode") === "check"; // ë„ì„œê´€ í™•ì¸ ì „ìš© ëª¨ë“œ

    const bookKey = "bimilion_only_this_device";

    const borrowBtn = document.getElementById("borrow-button");
    const returnBtn = document.getElementById("return-button");
    const statusText = document.getElementById("status-text");
    const noteText = document.getElementById("note-text");

    function updateUI() {
      const isBorrowed = localStorage.getItem(bookKey) === "borrowed";

      if (isCheckMode) {
        // ë„ì„œê´€ í™•ì¸ ì „ìš© ê¸°ê¸°
        if (isBorrowed) {
          statusText.textContent = "âœ… ì´ ê¸°ê¸°ì—ì„œ ëŒ€ì¶œ ì¤‘ì…ë‹ˆë‹¤.";
        } else {
          statusText.textContent = "âŒ ì´ ê¸°ê¸°ì—ì„œëŠ” ëŒ€ì¶œ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.";
        }
        borrowBtn.style.display = "none";
        returnBtn.style.display = "none";
        noteText.textContent = "â€» ì´ í˜ì´ì§€ëŠ” ë„ì„œê´€ í™•ì¸ ì „ìš©ì…ë‹ˆë‹¤.";
      } else {
        // ì¼ë°˜ ëŒ€ì¶œ/ë°˜ë‚© ëª¨ë“œ
        if (isBorrowed) {
          statusText.textContent = "ğŸ“š ì´ ê¸°ê¸°ì—ì„œ ëŒ€ì¶œ ì¤‘ì…ë‹ˆë‹¤.";
          borrowBtn.style.display = "none";
          returnBtn.style.display = "inline-block";
          noteText.textContent = "â€» ì´ ìƒíƒœëŠ” ì´ ê¸°ê¸°ì—ì„œë§Œ ìœ ì§€ë©ë‹ˆë‹¤.";
        } else {
          statusText.textContent = "ğŸ“• ë°˜ë‚©ë¨";
          borrowBtn.style.display = "inline-block";
          returnBtn.style.display = "none";
          noteText.textContent = "â€» ëŒ€ì¶œ ì‹œ ì´ ê¸°ê¸°ì—ì„œë§Œ ë°˜ë‚©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
        }
      }
    }

    borrowBtn.addEventListener("click", () => {
      localStorage.setItem(bookKey, "borrowed");
      updateUI();
    });

    returnBtn.addEventListener("click", () => {
      localStorage.setItem(bookKey, "returned");
      updateUI();
    });

    updateUI();
  </script>
</body>
</html>


